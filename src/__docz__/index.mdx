---
name: Home
route: /
# menu: MenuName

# NOTE: Menu ordering is configured in doczrc.js
---

import { Playground } from 'docz';

import { SvgIcon } from '@devboldly/react-devboldly-tools';
import githubSvg from '../__docz__/images/github.svg';

<div style={{
	display: 'flex',
	alignItems: 'center',
}}>
  <div>
    <h1>React Use Window.localStorage</h1>
  </div>
  <div>
    <a href="https://github.com/devboldly/react-use-window-localstorage/" target="_blank" rel="noopener noreferrer">
      <SvgIcon src={githubSvg} size={28} style={{ margin: '0 0 0 20px' }} />
    </a>
  </div>
</div>

**React hooks for accessing the localStorage Web Storage API.**

üëÅÔ∏è **[Live Demo](/useLocalStorageString#example)**

## Overview

A set of hooks to easily store and retrieve data from [localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage).

Encoding is handled for common data types, including [booleans](/useLocalStorageBoolean), [numbers](/useLocalStorageNumber), [strings](/useLocalStorageString), and [objects](/useLocalStorageObject), or you can [encode data yourself](/useLocalStorageItem) if you'd like.

Changes to localStorage are synchronized across all hooks automatically.

> **What is localStorage?** The `localStorage` property allows you to store `{key: value}` string data that is saved across browser sessions. Data stored in `localStorage` has no expiration time.

### Features include:

- **üí™ Easily add `localStorage` support**
  - Store data across browser sessions with ease.
- **üî¢ Support for primitives and objects**
  - Store and retrieve strings, booleans, numbers, and objects effortlessly.
- **üíÅ Default values**
  - Optional support for defaults is baked right in.
- **üîÑ Automatic synchronization**
  - Changes are synchronized across hooks automatically.
- **üëæ Customizable**
  - Want to store something unusual? Just provide your own encoder.
- **‚õî Storage availability detection**
  - Detects if `localStorage` is available for use and lets you know otherwise.
- **üßº Clearing support**
  - Clear all localStorage values and reset hooks to defaults with one simple call.

## Installation

```
npm i react-use-window-localstorage
```

## Quick Start

### Storing Strings

Use the [useLocalStorageString](/useLocalStorageString) hook:

```jsx
import { useLocalStorageString } from 'react-use-window-localstorage';
```

In your function component:

```jsx
const defaultValue = 'cyan';
const [value, setValue] = useLocalStorageString('favColor', defaultValue);
```

### Storing Objects

Use the [useLocalStorageObject](/useLocalStorageObject) hook:

```jsx
import { useLocalStorageObject } from 'react-use-window-localstorage';
```

In your function component:

```jsx
const defaultValue = { a: 'hello', b: 123 };
const [value, setValue] = useLocalStorageObject('myObj', defaultValue);
```

Note that your objects must be compatible with [JSON.stringify()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify). Use [useLocalStorageItem](/useLocalStorageItem) otherwise.

### Storing Booleans

Use the [useLocalStorageBoolean](/useLocalStorageBoolean) hook:

```jsx
import { useLocalStorageBoolean } from 'react-use-window-localstorage';
```

In your function component:

```jsx
const defaultValue = true;
const [value, setValue] = useLocalStorageBoolean('swordEquipped', defaultValue);
```

### Storing Numbers

Use the [useLocalStorageNumber](/useLocalStorageNumber) hook:

```jsx
import { useLocalStorageNumber } from 'react-use-window-localstorage';
```

In your function component:

```jsx
const defaultValue = 3.14159;
const [value, setValue] = useLocalStorageNumber('importantNumber', defaultValue);
```

> Note: All value defaults are optional. Hooks will return `null` if none is provided.

### Storing Everything Else

If you'd like to store something other than the data types above, define your own encoding using the [useLocalStorageItem](/useLocalStorageItem) hook.

Here's a starting point:

```jsx
import { useLocalStorageItem } from 'react-use-window-localstorage';
```

In your function component:

```jsx
const defaultValue = 'something custom';
const encode = value => JSON.stringify(value);
const decode = itemString => JSON.parse(itemString);
const [value, setValue] = useLocalStorageItem('name', defaultValue, encode, decode);
```

Provide `null` for no default value.

### Additional Features

All hooks provide additional features in their return arrays, should you be interested:

```jsx
const [value, setValue, loading, available, reset, restore] = useLocalStorageString('favColor', 'cyan');
```

- A `loading` value of `true` indicates that the value is being loaded from localStorage.
- An `available` value of `true` indicates that `localStorage` is supported and available for use. 
- The `reset()` function sets the value back to the provided default, or `null` if none was given.
- The `restore()` function retrieves the latest value from localStorage. Use this if the localStorage value changes outside of this hook and you need to restore it to the latest.

### Clearing `localStorage`

```jsx
import { useClear } from 'react-use-window-localstorage';
```

```jsx
const clearLocalStorage = useClearLocalStorage();
```

Call `clearLocalStorage()` to clear all values in localStorage using [localStorage.clear()](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage) 
and reset all hooks to their defaults (or `null` if none provided).

## TypeScript

Type definitions have been included for [TypeScript](https://www.typescriptlang.org/) support.

## Contributing

Open source software is awesome and so are you. üòé

Feel free to submit a pull request for bugs or additions, and make sure to update tests as appropriate. If you find a mistake in the docs, send a PR! Even the smallest changes help.

For major changes, open an issue first to discuss what you'd like to change.

See the [library template](https://tinyurl.com/ya3k258d) for npm script documentation.

## ‚≠ê Found It Helpful? [Star It!](https://github.com/devboldly/react-use-window-localstorage/stargazers)

If you found this project helpful, let the community know by giving it a [star](https://github.com/devboldly/react-use-window-localstorage/stargazers): [üëâ‚≠ê](https://github.com/devboldly/react-use-window-localstorage/stargazers)